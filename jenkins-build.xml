<?xml version="1.0" encoding="UTF-8"?>
<project name="JacocoDemo" xmlns:jacoco="antlib:org.jacoco.ant" default="jacoco">
  <!--让 ant 知道去哪儿找 Jacoco-->
  <taskdef uri="antlib:org.jacoco.ant" resource="org/jacoco/ant/antlib.xml">
      <classpath path="${jacocoantPath}" />
  </taskdef>

  <!--dump 任务:
      根据前面配置的 ip 地址，和端口号，
      访问目标 Tomcat 服务，并生成 .exec 文件。-->
	  <!-- reset="true"是指在dump完成之后，重置jvm中的覆盖率数据为空。append="true"是指dump出来的exec文件为增量方式 -->
  <target name="dump">
      <jacoco:dump address="${server_ip}" reset="${reset}" destfile="${jacocoexecPath}" port="${server_port}" append="${append}"/>
  </target>
  
</project>